function httpGet(e){return new Promise(function(t,n){var r=new XMLHttpRequest;r.open("GET",e,!0),r.onload=function(){if(200==this.status){t(this.response);var e=JSON.parse(this.response);data1=JSON.parse(this.response),load_table_data(e)}else{var r=new Error(this.statusText);r.code=this.status,n(r)}},r.onerror=function(){n(new Error("Network Error"))},r.send()})}function load_table_data(e){function t(t){l.innerHTML=t+" из "+Math.ceil(e.length/50)}function n(n){document.querySelector(".cur_field")&&(document.querySelector(".cur_field").classList.remove("cur_field"),out_block.style.display="none"),"left"===n.id&&s>49?(s-=50,console.log(s-49,s),o=e.slice(s-49,s),a=['<tr id="thead"><th id="id">id<div class="s"></div></th><th id="firstName">firstName<div class="s"></div></th><th id="lastName">lastName<div class="s"></div></th><th id="email">email<div class="s"></div></th><th id="phone">phone<div class="s"></div></th></tr>'],o.forEach(function(e){a.push('<tr id="'+e.id+'"><td>'+e.id+"</td><td>"+e.firstName+"</td><td>"+e.lastName+"</td> <td>"+e.email+"</td><td>"+e.phone+" </td></td></tr>")}),table.innerHTML=a.join(""),t(current_page-=1),thead=document.getElementById("thead"),thead.onclick=function(e){console.log(thead),r(e.target)}):"right"===n.id&&s<e.length-1&&(o=e.slice(s+1,s+51),s+=50,a=['<tr id="thead"><th id="id">id<div class="s"></div></th><th id="firstName">firstName<div class="s"></div></th><th id="lastName">lastName<div class="s"></div></th><th id="email">email<div class="s"></div></th><th id="phone">phone<div class="s"></div></th></tr>'],o.forEach(function(e){a.push('<tr id="'+e.id+'"><td>'+e.id+"</td><td>"+e.firstName+"</td><td>"+e.lastName+"</td> <td>"+e.email+"</td><td>"+e.phone+" </td></td></tr>")}),table.innerHTML=a.join(""),t(current_page+=1),thead=document.getElementById("thead"),thead.onclick=function(e){console.log(thead),r(e.target)})}function r(e){var t=e.id,n=0,s=0;o.sort(function(e,n){return e[t]>n[t]?1:e[t]<n[t]?(s++,-1):0}),0===s&&(n=1,o.sort(function(e,n){return e[t]<n[t]?1:e[t]>n[t]?-1:0})),a=['<tr id="thead"><th id="id">id<div class="s"></div></th><th id="firstName">firstName<div class="s"></div></th><th id="lastName">lastName<div class="s"></div></th><th id="email">email<div class="s"></div></th><th id="phone">phone<div class="s"></div></th></tr>'],o.forEach(function(e){a.push('<tr id="'+e.id+'"><td>'+e.id+"</td><td>"+e.firstName+"</td><td>"+e.lastName+"</td> <td>"+e.email+"</td><td>"+e.phone+" </td></td></tr>")}),table.innerHTML=a.join(""),thead=document.getElementById("thead"),thead.onclick=function(e){r(e.target)},i(t,n)}function i(e,t){var n=document.getElementById(e);n.lastChild.innerHTML=0===t?"&darr;":"&uarr;"}var o;document.querySelector(".th1"),document.querySelector(".for-table");current_page=1;var a=['<tr id="thead"><th id="id">id<div class="s"></div></th><th id="firstName">firstName<div class="s"></div></th><th id="lastName">lastName<div class="s"></div></th><th id="email">email<div class="s"></div></th><th id="phone">phone<div class="s"></div></th></tr>'];if(e.length<=50&&(o=e,o.forEach(function(e){a.push('<tr id="'+e.id+'"><td>'+e.id+"</td><td>"+e.firstName+"</td><td>"+e.lastName+"</td> <td>"+e.email+"</td><td>"+e.phone+" </td></td></tr>")})),e.length>50){var s=49;o=e.slice(0,50),o.forEach(function(e){a.push('<tr id="'+e.id+'"><td>'+e.id+"</td><td>"+e.firstName+"</td><td>"+e.lastName+"</td> <td>"+e.email+"</td><td>"+e.phone+" </td></td></tr>")}),nav_block.style.display="inline-block";var l=document.querySelector(".counter");t(current_page)}table.style.display="table",search_block.style.display="block",table.innerHTML=a.join(""),loader.style.display="none";var u=document.querySelector(".search-but");nav_block.onclick=function(e){n(e.target)},u.onclick=function(){document.querySelector(".cur_field")&&(document.querySelector(".cur_field").classList.remove("cur_field"),out_block.style.display="none");var e=document.querySelector(".search-field").value;if(e){var t=new RegExp(e,"g"),n=o.filter(function(e){return t.test(e.id)||t.test(e.firstName)||t.test(e.lastName)||t.test(e.email)||t.test(e.phone)});n.length>0?(a=['<tr id="thead"><th id="id">id<div class="s"></div></th><th id="firstName">firstName<div class="s"></div></th><th id="lastName">lastName<div class="s"></div></th><th id="email">email<div class="s"></div></th><th id="phone">phone<div class="s"></div></th></tr>'],n.forEach(function(e){a.push('<tr id="'+e.id+'"><td>'+e.id+"</td><td>"+e.firstName+"</td><td>"+e.lastName+"</td> <td>"+e.email+"</td><td>"+e.phone+" </td></td></tr>")}),table.innerHTML=a.join(""),nav_block.style.display="none"):table.innerHTML="<b>Ничего не найдено</b>"}else alert("Введите данные для поиска")},thead=document.getElementById("thead"),thead.onclick=function(e){r(e.target)},table.onclick=function(e){out_block.style.display="block",current_id_elem=parseInt(e.target.parentElement.id),document.querySelector(".cur_field")&&document.querySelector(".cur_field").classList.remove("cur_field"),e.target.parentElement.classList.add("cur_field");var t=o.filter(function(e){return e.id===current_id_elem}),n=t[0],r=[];for(var i in n)if("object"==typeof n[i]){var a=n[i];for(key1 in a);}r=["Выбран пользователь: <b>"+n.firstName+" "+n.lastName+" </b></br> Описание:<textarea>"+n.description+" </textarea></br> Адрес проживания:<b>"+n.address.streetAddress+" </b></br>Город:<b>"+n.address.city+" </b> </br>Провинция/штат:<b>"+n.address.state+" </b> </br>Индекс:<b>"+n.address.zip+" </b> "],out_block.innerHTML=r,document.documentElement.scrollTop=document.documentElement.scrollHeight},add_but.style.display="inline-block",add_but.onclick=function(){form.style.display="block",add_but.style.display="none"};var c=document.getElementById("fid"),d=document.getElementById("ffirstName"),f=document.getElementById("flastName"),p=document.getElementById("fphone"),h=document.getElementById("femail");form.onkeyup=function(e){c.value&&d.value&&f.value&&p.value&&h.value?sub_form.disabled=!1:sub_form.disabled=!0};var m={};sub_form.onclick=function(){m={id:c.value,firstName:d.value,lastName:f.value,phone:p.value,email:h.value},data1.unshift(m),d.value=f.value=p.value=c.value=h.value="",load_table_data(data1),form.style.display="none"}}var small_data_button=document.querySelector(".small-data"),big_data_button=document.querySelector(".big-data"),table=document.querySelector("tbody"),loader=document.querySelector(".overlay-loader"),err_message=document.querySelector(".error-block"),nav_block=document.querySelector(".nav-block"),search_block=document.querySelector(".search"),out_block=document.querySelector(".out-data"),current_page,data1,form=document.querySelector(".add-data"),add_but=document.querySelector(".add-but"),sub_form=document.querySelector(".sub-form");small_data_button.onclick=function(){add_but.style.display="none",form.style.display="none",table.style.display="none",loader.style.display="block",err_message.style.display="none",nav_block.style.display="none",search_block.style.display="none",document.querySelector(".cur_field")&&(document.querySelector(".cur_field").classList.remove("cur_field"),out_block.style.display="none"),test=httpGet("http://www.filltext.com/?rows=32&id=%7Bnumber%7C1000%7D&firstName=%7BfirstName%7D&lastName=%7BlastName%7D&email=%7Bemail%7D&phone=%7Bphone%7C(xxx)xxx-xx-xx%7D&address=%7BaddressObject%7D&description=%7Blorem%7C32%7D").then(function(e){},function(e){err_message.style.display="block",err_message.innerHTML="Rejected: ".concat(e),loader.style.display="none"})},big_data_button.onclick=function(){add_but.style.display="none",form.style.display="none",table.style.display="none",loader.style.display="block",err_message.style.display="none",nav_block.style.display="none",search_block.style.display="none",document.querySelector(".cur_field")&&(document.querySelector(".cur_field").classList.remove("cur_field"),out_block.style.display="none"),test=httpGet("http://www.filltext.com/?rows=1000&id=%7Bnumber%7C1000%7D&firstName=%7BfirstName%7D&delay=3&lastName=%7BlastName%7D&email=%7Bemail%7D&phone=%7Bphone%7C(xxx)  xxx-xx-xx%7D&address=%7BaddressObject%7D&description=%7Blorem%7C32%7D").then(function(e){},function(e){err_message.style.display="block",err_message.innerHTML="Rejected: ".concat(e),loader.style.display="none"})};